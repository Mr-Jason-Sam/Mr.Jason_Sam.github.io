<!doctype html><html lang=en><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta name=robots content="noodp"><meta http-equiv=x-ua-compatible content="IE=edge, chrome=1"><title>Win10 Home版安装Docker Desktop on Windows | Shuzang's Blog</title><meta name=Description content="书藏的个人博客，包括Golang、数据结构、算法的学习记录，各类生活技能的学习，每周五发布一期自己的生活周刊"><meta property="og:title" content="Win10 Home版安装Docker Desktop on Windows"><meta property="og:description" content="Docker Desktop 是 Windows 安装 Docker 的推荐安装方式，然而系统需求是 Pro, Enterprise 或 Education 版本，Home 版不支持，因为没有 Hyper-V。 这篇文章记录网上找到的 Win10 Home 版安装 Docker Desktop 的方"><meta property="og:type" content="article"><meta property="og:url" content="https://shuzang.github.io/install-docker-desktop-on-windows-10-home/"><meta property="article:published_time" content="2020-04-23T00:00:00+00:00"><meta property="article:modified_time" content="2020-04-23T00:00:00+00:00"><meta name=twitter:card content="summary"><meta name=twitter:title content="Win10 Home版安装Docker Desktop on Windows"><meta name=twitter:description content="Docker Desktop 是 Windows 安装 Docker 的推荐安装方式，然而系统需求是 Pro, Enterprise 或 Education 版本，Home 版不支持，因为没有 Hyper-V。 这篇文章记录网上找到的 Win10 Home 版安装 Docker Desktop 的方"><meta name=theme-color content="#ffffff"><meta name=msapplication-TileColor content="#da532c"><link rel=canonical href=https://shuzang.github.io/install-docker-desktop-on-windows-10-home/><link rel="shortcut icon" type=image/x-icon href=/favicon.ico><link rel=apple-touch-icon sizes=180x180 href=/apple-touch-icon.png><link rel=icon type=image/png sizes=32x32 href=/favicon-32x32.png><link rel=icon type=image/png sizes=16x16 href=/favicon-16x16.png><link rel=manifest href=/site.webmanifest><link rel=mask-icon href=/safari-pinned-tab.svg color=#5bbad5><link rel=prev href=https://shuzang.github.io/using-docker-installation-to-run-mysql/><link rel=next href=https://shuzang.github.io/2018-2020-research-history/><link rel=stylesheet href=/lib/fontawesome-free/all.min.9a680b90260b5106d79f4075491ab31daafa7429eff686453c40b58357309649.css integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk="><link rel=stylesheet href=/css/style.min.9191e7eb818b288ae5b697554903713021436f69fc49aaa1b74808c7191739db.css integrity="sha256-kZHn64GLKIrltpdVSQNxMCFDb2n8Saqht0gIxxkXOds="><script type=application/ld+json>{"@context":"http://schema.org","@type":"BlogPosting","headline":"Win10 Home版安装Docker Desktop on Windows","mainEntityOfPage":{"@type":"WebPage","@id":"https:\/\/shuzang.github.io\/install-docker-desktop-on-windows-10-home\/"},"image":{"@type":"ImageObject","url":"https:\/\/shuzang.github.io\/cover.png","width":800,"height":600},"genre":"posts","keywords":"Docker","wordcount":715,"url":"https:\/\/shuzang.github.io\/install-docker-desktop-on-windows-10-home\/","datePublished":"2020-04-23T00:00:00\x2b00:00","dateModified":"2020-04-23T00:00:00\x2b00:00","license":"This work is licensed under a Creative Commons Attribution-NonCommercial 4.0 International License.","publisher":{"@type":"Organization","name":"shuzang","logo":{"@type":"ImageObject","url":"https:\/\/shuzang.github.io\/logo.png","width":127,"height":40}},"description":""}</script></head><body><script>if(!window.localStorage||!window.localStorage.getItem('theme')){window.isDark=window.matchMedia('(prefers-color-scheme: dark)').matches;}else{window.isDark=(window.localStorage&&window.localStorage.getItem('theme'))==='dark';}
window.isDark&&document.body.classList.add('dark-theme');</script><div class=wrapper><header class=desktop id=header-desktop><div class=header-wrapper><div class="header-title animated bounceIn"><a href=/>Shuzang's Blog</a></div><div class=menu><a class=menu-item href=/posts>Posts</a><a class=menu-item href=/tags>Tags</a><a class=menu-item href=/categories>Categories</a><a class=menu-item href=/about>About</a><a href=javascript:void(0); class=theme-switch title="Switch Theme">
<i class="fas fa-adjust fa-rotate-180 fa-fw"></i></a></div></div></header><header class=mobile id=header-mobile><div class=header-wrapper><div class=header-container><div class="header-title animated bounceIn"><a href=/>Shuzang's Blog</a></div><div class=menu-toggle id=menu-toggle-mobile><span></span><span></span><span></span></div></div><div class=menu id=menu-mobile><a class=menu-item href=/posts>Posts</a><a class=menu-item href=/tags>Tags</a><a class=menu-item href=/categories>Categories</a><a class=menu-item href=/about>About</a><a href=javascript:void(0); class=theme-switch title="Switch Theme">
<i class="fas fa-adjust fa-rotate-180 fa-fw"></i></a></div></div></header><script>window.desktopHeaderMode="fixed";window.mobileHeaderMode="auto";</script><main class=main><div class=container><article class="page single"><h1 class="single-title animated flipInX">Win10 Home版安装Docker Desktop on Windows</h1><div class=post-meta><div class=post-meta-line><span class=post-author><a class=author href=https://shuzang.github.io/about/ rel=author target=_blank><i class="fas fa-user-circle fa-fw"></i>shuzang</a>
</span>&nbsp;<span class=post-category>included in&nbsp;
<span><a href=/categories/%E7%88%B1%E7%BC%96%E7%A8%8B%E7%88%B1%E6%8A%80%E6%9C%AF%E7%9A%84%E5%AD%A9%E5%AD%90><i class="far fa-folder fa-fw"></i>爱编程爱技术的孩子</a></span></span></div><div class=post-meta-line><i class="far fa-calendar-alt fa-fw"></i><time datetime=2020-04-23>2020-04-23</time>&nbsp;
<i class="fas fa-pencil-alt fa-fw"></i>about 715 words&nbsp;
<i class="far fa-clock fa-fw"></i>2 min&nbsp;</div></div><div class=toc id=toc-auto><h2 class=toc-title>Contents</h2><div class=toc-content id=toc-content-auto></div></div><div class=toc id=toc-static><details><summary><div class=toc-title><span>Contents</span>
<span><i class="details icon fas fa-angle-down"></i></span></div></summary><div class=toc-content id=toc-content-static><nav id=TableOfContents><ul><li><a href=#1-安装-hyper-v>1. 安装 Hyper-V</a></li><li><a href=#2-伪装成专业版绕过安装检测>2. 伪装成专业版绕过安装检测</a></li><li><a href=#3-测试>3. 测试</a></li></ul></nav></div></details></div><div class=content id=content><p>Docker Desktop 是 Windows 安装 Docker 的推荐安装方式，然而系统需求是 Pro, Enterprise 或 Education 版本，Home 版不支持，因为没有 Hyper-V。</p><p>这篇文章记录网上找到的 Win10 Home 版安装 Docker Desktop 的方式，主要思路是自行安装 Hyper-V 及 相关服务，并修改注册表欺骗 Docker 的安装检测。</p><h2 id=1-安装-hyper-v>1. 安装 Hyper-V</h2><p>新建 txt 文档，复制以下内容到文档中。</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span><span class=lnt>5
</span></code></pre></td><td class=lntd><pre class=chroma><code class=language-txt data-lang=txt>pushd &#34;%~dp0&#34;
dir /b %SystemRoot%\servicing\Packages\*Hyper-V*.mum &gt;hyper-v.txt
for /f %%i in (&#39;findstr /i . hyper-v.txt 2^&gt;nul&#39;) do dism /online /norestart /add-package:&#34;%SystemRoot%\servicing\Packages\%%i&#34;
del hyper-v.txt
Dism /online /enable-feature /featurename:Microsoft-Hyper-V-All /LimitAccess /ALL
</code></pre></td></tr></table></div></div><p>将文档格式后缀由 <code>.txt</code> 更改为 <code>.cmd</code>，然后以管理员方式执行。该脚本会自动安装 Hyper-V 服务，安装完成后按提示键入 <code>Y</code>，电脑自动重启。注意，这里键入 <code>Y</code> 后直接就重启了，所以有其它未保存任务及时保存。</p><p>重启完成后进入搜索「启用或关闭 Windows 功能」并打开，查看 「Hyper-V」选项是否被选中，如果没有，勾选并重启电脑。</p><p>再次新建 txt 文档并填充如下内容</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span><span class=lnt>5
</span><span class=lnt>6
</span></code></pre></td><td class=lntd><pre class=chroma><code class=language-txt data-lang=txt>pushd &#34;%~dp0&#34;
dir /b %SystemRoot%\servicing\Packages\*containers*.mum &gt;containers.txt
for /f %%i in (&#39;findstr /i . containers.txt 2^&gt;nul&#39;) do dism /online /norestart /add-package:&#34;%SystemRoot%\servicing\Packages\%%i&#34;
del containers.txt
Dism /online /enable-feature /featurename:Containers -All /LimitAccess /ALL
pause
</code></pre></td></tr></table></div></div><p>更改后缀为 <code>.cmd</code> 并以管理员方式执行，安装完毕后键入 <code>Y</code> 重启电脑。至此第一步完成</p><h2 id=2-伪装成专业版绕过安装检测>2. 伪装成专业版绕过安装检测</h2><p>Docker Desktop 安装时会检测系统版本，因此我们修改注册表</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span></code></pre></td><td class=lntd><pre class=chroma><code class=language-fallback data-lang=fallback>计算机\HKEY_LOCAL_MACHINE\SOFTWARE\Microsoft\Windows NT\CurrentVersion

EditionID = Professional
</code></pre></td></tr></table></div></div><p>然后遵照<a href=https://docs.docker.com/docker-for-windows/install/ target=_blank rel="noopener noreffer">官方文档</a>
下载安装 Docker即可。</p><p>注：重启后修改的注册表项会自动还原，但不影响 Docker 运行。</p><h2 id=3-测试>3. 测试</h2><p>查看 Docker 版本</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span></code></pre></td><td class=lntd><pre class=chroma><code class=language-bash data-lang=bash>$ docker --version
Docker version 19.03.8, build afacb8b
</code></pre></td></tr></table></div></div><p>运行 <code>hello-world</code> 镜像测试安装是否成功</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span><span class=lnt>16
</span><span class=lnt>17
</span><span class=lnt>18
</span><span class=lnt>19
</span><span class=lnt>20
</span><span class=lnt>21
</span></code></pre></td><td class=lntd><pre class=chroma><code class=language-bash data-lang=bash>$ docker run hello-world                                                                                                
Hello from Docker!
This message shows that your installation appears to be working correctly.

To generate this message, Docker took the following steps:
 1. The Docker client contacted the Docker daemon.
 2. The Docker daemon pulled the <span class=s2>&#34;hello-world&#34;</span> image from the Docker Hub.
    <span class=o>(</span>amd64<span class=o>)</span>
 3. The Docker daemon created a new container from that image which runs the
    executable that produces the output you are currently reading.
 4. The Docker daemon streamed that output to the Docker client, which sent it
    to your terminal.

To try something more ambitious, you can run an Ubuntu container with:
 $ docker run -it ubuntu bash

Share images, automate workflows, and more with a free Docker ID:
 https://hub.docker.com/

For more examples and ideas, visit:
 https://docs.docker.com/get-started/
</code></pre></td></tr></table></div></div><p>出现 <code>Hello from Docker!</code> 说明安装成功。</p></div><div class=post-footer id=post-footer><div class=post-info><div class=post-info-line><div class=post-info-mod><span>The article was updated on 2020-04-23</span></div><div class=post-info-license></div></div><div class=post-info-line><div class=post-info-md><span><a class=link-to-markdown href=https://shuzang.github.io/install-docker-desktop-on-windows-10-home/index.md target=_blank>Read Markdown</a></span></div><div class=post-info-share><span><a href=javascript:void(0); title="Share on Twitter" data-sharer=twitter data-url=https://shuzang.github.io/install-docker-desktop-on-windows-10-home/ data-title="Win10 Home版安装Docker Desktop on Windows" data-hashtags=Docker><i class="fab fa-twitter fa-fw"></i></a><a href=javascript:void(0); title="Share on Facebook" data-sharer=facebook data-url=https://shuzang.github.io/install-docker-desktop-on-windows-10-home/ data-hashtag=Docker><i class="fab fa-facebook-square fa-fw"></i></a><a href=javascript:void(0); title="Share on Reddit" data-sharer=reddit data-url=https://shuzang.github.io/install-docker-desktop-on-windows-10-home/><i class="fab fa-reddit fa-fw"></i></a></span></div></div></div><div class=post-info-more><section><span><a href=/tags/docker><i class="fas fa-tag fa-fw"></i>Docker</a>
</span>&nbsp;</section><section><span><a href=javascript:window.history.back();>Back</a></span>&nbsp;|&nbsp;<span><a href=/>Home</a></span></section></div><div class=post-nav><a href=https://shuzang.github.io/using-docker-installation-to-run-mysql/ class=prev rel=prev title="使用 Docker 安装运行 mysql"><i class="fas fa-angle-left fa-fw"></i>使用 Docker 安装运行 mysql</a>
<a href=https://shuzang.github.io/2018-2020-research-history/ class=next rel=next title="2018-2020 研究历史">2018-2020 研究历史<i class="fas fa-angle-right fa-fw"></i></a></div></div><div class=comment><div id=disqus_thread></div><noscript>Please enable JavaScript to view the <a href=https://disqus.com/?ref_noscript>comments powered by Disqus.</a></noscript><div id=valine></div><script>document.addEventListener("DOMContentLoaded",function(event){new Valine({el:'#valine',appId:'GteMvevTjOBmhvFh2QGsopGO-gzGzoHsz',appKey:'fL4SYl06GIe012PswFdY17VC',placeholder:'Your comment ...',verify:true,avatar:'hide',pageSize:10,lang:'en',visitor:true,recordIP:true,});});</script><noscript>Please enable JavaScript to view the <a href=https://valine.js.org/>comments powered by Valine.</a></noscript></div></article></div></main><footer class=footer><div class=copyright><div class=copyright-line>Powered by <a href=https://gohugo.io/ target=_blank rel="external nofollow noopener noreffer">Hugo</a> | Theme - <a href=https://github.com/dillonzq/LoveIt target=_blank rel="external nofollow noopener noreffer">LoveIt<i class="far fa-heart fa-fw"></i></a></div><div class=copyright-line><i class="far fa-copyright fa-fw"></i><span itemprop=copyrightYear>2018 - 2020</span><span class=author itemprop=copyrightHolder>&nbsp;<a href=https://shuzang.github.io/about/ target=_blank>shuzang</a></span>&nbsp;|&nbsp;<span class=license><a rel="license external nofollow noopener noreffer" href=https://creativecommons.org/licenses/by-nc/4.0/ target=_blank>CC BY-NC 4.0</a></span></div></div></footer></div><a href=# class="dynamic-to-top animated faster" id=dynamic-to-top><span>&nbsp;</span>
</a><link rel=stylesheet href=/lib/valine/dark.210f14917270f9f7ab9803acf878a152fb54ecb3003722bbee3adcd1d6e70fc1.css integrity="sha256-IQ8UkXJw+fermAOs+HihUvtU7LMANyK77jrc0dbnD8E="><script src=https://dillonzq.disqus.com/embed.js></script><script src=https://cdn.bootcss.com/smooth-scroll/16.1.0/smooth-scroll.js></script><script src=/lib/valine/Valine.min.cecee02afc36ef02fd550a02f12abfdd057905e78aa4439749675fce96148861.js integrity="sha256-zs7gKvw27wL9VQoC8Sq/3QV5BeeKpEOXSWdfzpYUiGE="></script><script src=/lib/sharer/sharer.min.9c88f86c7f0820287113f6236200459832693656e80d7556cc80a93dfbd45813.js integrity="sha256-nIj4bH8IIChxE/YjYgBFmDJpNlboDXVWzICpPfvUWBM="></script><script src=/js/theme.min.1482fc67bfa2c3b8cebe476d0037b9321b5b7a8a1525b547b94143948be90e9e.js integrity="sha256-FIL8Z7+iw7jOvkdtADe5MhtbeooVJbVHuUFDlIvpDp4="></script></body></html>